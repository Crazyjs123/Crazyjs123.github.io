## 7.轻松入门Sui Move: 对象（上）

有过后端编程经验的小伙伴会发现：无论什么语言核心其实都是对数据的增删改查，Sui Move其实也不例外，但是Sui Move并不会跟其他语言一样连接数据库、使用特定的数据库语言存储数据，而是使用**对象作为最小的存储单元**。也就是说如果你想持久化一些数据，先申明一个对象模型，使用要存储的数据实例化对象即可。比如：

```rust
//申明对象模型
struct Article has key {
    id: object::UID,
    title: string::String,
    content: string::String,
    word_cnt: u64,
}
public fun new(title: vector<u8>, content: vector<u8>, ctx: &mut tx_context::TxContext) {
 	let content = string::utf8(content);
    //实例化一个对象
    let article = Article{
        id: object::new(ctx),
        title: string::utf8(title),
        content: content,
        word_cnt: string::length(&content),
    };
	//对象设置为共享对象，所有用户皆可访问修改
    transfer::share_object<Article>(article);
}
```

在发布这段代码后，调用new方法就可以保存一个对象。

**对象模型是一种特殊的结构体**，所以上一章讲到的结构体相关的用法对象也一样适用。那如何区分这是一个普通的结构体还是对象呢？**对象一定具有key能力，包含一个全局唯一ID的字段**  其他字段则可以是基础数据类型、对象或者非对象结构体。

第一章我们也讲过，在发布代码的时候会返回一个所有者为Immutable(不可改变的)的对象,这个对象的ID就是对应的包地址。这句话隐含了一个信息，就是**我们发布的包也是一个对象**。这个对象永远不可改变或删除。所以发布代码的过程也可以理解为是把代码存储到区块链的过程。

#### 对象的结构

##### 公共元数据

以下是无论是对象模型还是包都有的公共元数据：

- 32个字节的全球唯一标识符（objectId），也就是对象ID。
- 8个字节的版本号(version)，每次修改对象都会加一
- 32个字节的事务摘要(digest)，是最后一次输出这个对象的事务摘要
- 33个字节的owner字段，用于指出如何访问这个对象

##### 对象内容

content字段内的dataType字段区分是结构体对象（moveObject）还是包(package)。content字段的其他内容则因为类型的不同各有区别了：

###### 数据库对象

![]()

- type字段



对象都有用于寻址的唯一ID

一个智能合约（也就是一个包）就是一个对象

对象的值，可以包含基本类型，对象以及非对象结构体

:camel:  什么是对象

:camel:对象的用法

对象所有权

转移所有权?

对象的能力

动态字段

事件

对象和包的版本？

对象的用法

###### 对象的结构：

- 对象元数据
- 

###### 对象的特点

- 必须要有key能力
- 第一个字段必须是id,类型sui::object::UID

对象类型分为私人对象和共享对象

###### 共享对象：

###### 私有对象：

对象的元数据会保存对象的所有者，用于指示谁可以使用对象，以及怎么使用。根据对象的所有者

- 所有者是一个地址，对象的ID或者账户地址

​	